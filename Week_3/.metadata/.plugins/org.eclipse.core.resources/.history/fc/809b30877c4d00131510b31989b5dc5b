/*
 * Project:	RecipeMe
 * 
 * Package: com.daletupling.recipeme
 * 
 * Author: 	Dale Tupling
 * 
 * Date:	November 8th, 2013
 * 
 */

package com.daletupling.recipeme;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.ViewGroup.LayoutParams;
import android.widget.Button;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.TextView;
import com.daletupling.libs.WebData;

public class MainActivity extends Activity {
	Context mContext;
	String[] recipeList;
	TextView netConnectionText;
	EditText eText;
	Button button;
	Boolean connection = false;


	String searchString;

	

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		mContext = this;

		//Create Linear Layout
		LinearLayout linearL = new LinearLayout(mContext);
		//Create Linear Layout parameters
		LayoutParams layoutP = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);
		//Set layout Params
		linearL.setLayoutParams(layoutP);
		//Set Layout Orientation
		linearL.setOrientation(LinearLayout.VERTICAL);

		//EditText Instantiation and Params
		eText = new EditText(mContext);
		LayoutParams eTextParam = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
		eText.setLayoutParams(eTextParam);

		//Button Instantiation and Params
		button = new Button(mContext);
		LayoutParams buttonP = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
		button.setLayoutParams(buttonP);
		button.setText("Search");
		//NetConnectionText Instantiation and Params
		netConnectionText = new TextView(mContext);
		LayoutParams netTextP = new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT);
		netConnectionText.setLayoutParams(netTextP);
		
		//Check Network Status
		connection = WebData.getStatus(mContext);
		if(connection){
			Log.i("NETWORK", WebData.getType(mContext));
			//Set netConnection TextView text
			netConnectionText.setText("You are connected to:"+ WebData.getType(mContext).toString());
		//getRecipeData();
	}else{
		//Display dialog box for no connection

       AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setMessage("No Internet Connection Detected. Check your connection and try again.")
               .setCancelable(false)
               .setPositiveButton("OK", new DialogInterface.OnClickListener() {
                   public void onClick(DialogInterface dialog, int id) {
                        dialog.cancel();
                   }
               });
        AlertDialog alert = builder.create();
        alert.show();
		netConnectionText.setText("You are not connected to any network");
	}

		//Add text View
		linearL.addView(netConnectionText);
		//Add EditText to View
		linearL.addView(eText);
		//Add Button to View
		linearL.addView(button);
		//Set content view to programmatic Linear Layout
		setContentView(linearL);
		
	}//onCreate Closing bracket


	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}//onCreateOptionsMenu closing bracket


}//MainActivity closing bracket
